<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo Carrinho de Compras com Vue 3</title>
    <script src="https://unpkg.com/vue@3"></script>
    <style>
        .produto { margin: 10px; }
        .carrinho { margin-top: 20px; }
    </style>
</head>
<body>
    <div id="app">
        <div v-for="produto in produtos" :key="produto.id" class="produto">
            <h3>{{ produto.nome }}</h3>
            <p>Pre√ßo: R$ {{ produto.preco }}</p>
            <button @click="adicionarAoCarrinho(produto)">Adicionar ao Carrinho</button>
        </div>

        <div class="carrinho">
            <h2>Carrinho de Compras</h2>
            <ul>
                <li v-for="item in carrinho" :key="item.id">
                    {{ item.nome }} - R$ {{ item.preco }} - Quantidade: {{ item.quantidade }}
                </li>
            </ul>
            <p v-if="carrinho.length === 0">Carrinho vazio.</p>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    produtos: [
                        { id: 1, nome: 'Produto 1', preco: 100 },
                        { id: 2, nome: 'Produto 2', preco: 150 },
                        { id: 3, nome: 'Produto 3', preco: 200 }
                    ],
                    carrinho: []
                };
            },
            methods: {
                adicionarAoCarrinho(produto) {
                    const produtoNoCarrinho = this.carrinho.find(item => item.id === produto.id);
                    if (produtoNoCarrinho) {
                        produtoNoCarrinho.quantidade += 1;
                    } else {
                        this.carrinho.push({
                            ...produto,
                            quantidade: 1
                        });
                    }
                    // Salvar carrinho no localStorage
                    localStorage.setItem('carrinho', JSON.stringify(this.carrinho));
                }
            },
            created() {
                // Carregar carrinho do localStorage ao iniciar
                const carrinhoArmazenado = localStorage.getItem('carrinho');
                if (carrinhoArmazenado) {
                    this.carrinho = JSON.parse(carrinhoArmazenado);
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
