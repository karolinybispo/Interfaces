<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Carrinho</title>
  <script src="https://unpkg.com/vue@next"></script>
</head>
<body>
  <div id="app">
    <h1>Seu Carrinho</h1>
    <div v-if="carrinho.length === 0">O carrinho está vazio.</div>
    <div v-for="item in carrinho" :key="item.id">
      <p>{{ item.nome }} - Quantidade: {{ item.quantidade }} - Preço: R$ {{ item.preco }}</p>
      <button @click="removerDoCarrinho(item.id)">Remover</button>
    </div>

    <div v-if="carrinho.length > 0">
      <h3>Total: R$ {{ total }}</h3>
      <button @click="finalizarPedido">Finalizar Pedido</button>
    </div>
  </div>

  <script>
    const app = Vue.createApp({
      data() {
        return {
          carrinho: []
        };
      },
      computed: {
        total() {
          return this.carrinho.reduce((acc, item) => acc + (item.preco * item.quantidade), 0);
        }
      },
      created() {
        this.carregarCarrinho();
      },
      methods: {
        carregarCarrinho() {
          const carrinhoSalvo = localStorage.getItem('carrinho');
          if (carrinhoSalvo) {
            this.carrinho = JSON.parse(carrinhoSalvo);
          }
        },
        salvarCarrinho() {
          localStorage.setItem('carrinho', JSON.stringify(this.carrinho));
        },
        removerDoCarrinho(id) {
          this.carrinho = this.carrinho.filter(item => item.id !== id);
          this.salvarCarrinho();
        },
        finalizarPedido() {
          // Aqui você pode adicionar a lógica para enviar o pedido ao servidor
          alert('Pedido finalizado com sucesso!');
          this.carrinho = [];
          this.salvarCarrinho();
        }
      }
    });

    app.mount('#app');
  </script>
</body>
</html>
